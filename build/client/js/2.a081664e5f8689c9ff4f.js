webpackJsonp([2,6],{"28es":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("GiK3"),o=l(i),a=n("RH2O"),u=l(n("UwXI")),s=l(n("S/1C"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"onMount",value:function(e,t){var n=this;if(!t||e.path!==t.path){this.viewer&&this.viewer.deregister&&this.viewer.deregister(),this.viewer=s.default.register(this.refs.cadCanvas,e.linkKey);var r=e.path+"/1/model.svf",i={env:"Local",document:r.startsWith("http")?r:""+r};e.auth.authToken&&(Autodesk.Viewing.endpoint.HTTP_REQUEST_HEADERS={Authorization:"bearer "+e.auth.authToken}),Autodesk.Viewing.Initializer(i,function(){n.viewer.start(i.document,i)})}}},{key:"componentDidMount",value:function(){this.onMount(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.onMount(e,this.props)}},{key:"componentWillUnmount",value:function(){this.viewer.deregister()}},{key:"render",value:function(){return o.default.createElement("div",{className:u.default.preview+" flex rel-box",ref:"cadCanvas"},o.default.createElement("div",{className:u.default.scrollOverlay}))}}]),t}();t.default=(0,a.connect)(function(e){return{auth:e.auth}})(c)},"S/1C":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("SS9J"),o=(r=i)&&r.__esModule?r:{default:r};n("6ZSw");var a={viewport:!0},u={activeInstances:[],register:function(e,t){var n=(0,o.default)(),r=new window.Autodesk.Viewing.Private.GuiViewer3D(e),i=function(){r.resize()};window.addResizeListener(e,i);var s={},l=function(e){var i=u.activeInstances.filter(function(e){return e.linkKey===t&&e.id!==n});if(i.length>=1&&r.viewerState){var o=r.getState(a);i.forEach(function(e){var t=JSON.stringify(s),n=JSON.stringify(o),r=!(n===t);r&&e.restoreState(o,a,!0)}),s=o}};return r.id=n,r.linkKey=t,r.deregister=function(){var t=u.activeInstances.findIndex(function(e){return e.id===r.id});u.activeInstances.splice(t,1),r.removeEventListener(window.Autodesk.Viewing.CAMERA_CHANGE_EVENT,l),e&&window.removeResizeListener(e,i),r.finish()},r.addEventListener(window.Autodesk.Viewing.CAMERA_CHANGE_EVENT,l),u.activeInstances.push(r),r}};t.default=u},UwXI:function(e,t){e.exports={preview:"AutodeskLocalViewer_preview-14Tlo",scrollOverlay:"AutodeskLocalViewer_scrollOverlay-13GjC"}},kFs6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n("GiK3")),o=n("LEvL"),a=l(n("28es")),u=l(n("AedX")),s=l(n("yClu"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={status:"pending"},r.onMount=function(e,t){if(!t||e.fileMeta!==t.fileMeta){var n=e.renderFn;r.setState({status:"pending"}),(0,o.isWebGlSupported)()?n():r.setState({status:"disabled"})}},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.onMount(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.onMount(e,this.props)}},{key:"render",value:function(){var e=this.props,t=e.fileMeta,n=e.fileRender;return"disabled"===this.state.status?i.default.createElement("div",{className:"layout-column layout-align-center-center flex text-center"},i.default.createElement("img",{style:{width:"100px"},src:s.default}),i.default.createElement("div",{className:"text-title-4",style:{marginBottom:"10px"}},"WebGl is disabled or not supported."),i.default.createElement("div",{className:"text-title-5"},"Visit ",i.default.createElement("a",{className:"link-primary",href:"http://get.webgl.org/",target:"_blank"},"webgl.org")," for more.")):n&&n.data?i.default.createElement(a.default,{path:n.data,linkKey:t.fileId}):i.default.createElement("div",{className:"rel-box flex"},i.default.createElement(u.default,{show:!0},n&&n.status?n.status:"Rendering file..."))}}]),t}();t.default=f}});